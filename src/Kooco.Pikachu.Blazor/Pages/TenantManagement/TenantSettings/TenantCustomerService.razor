@using Kooco.Pikachu.Localization
@using Volo.Abp.AspNetCore.Components.Web
@inherits PikachuComponentBase
@inject AbpBlazorMessageLocalizerHelper<PikachuResource> LH

<Form>
    <Validations @ref="@ValidationsRef" Model="@Entity" ValidateOnLoad="false">
        <Card>
            <CardBody>
                <Row>
                    @if (!ViewMode)
                    {
                        <Column ColumnSize="ColumnSize.Is12.Is3.OnDesktop">
                            <h4>@L["CustomerServiceInformation"]</h4>
                        </Column>
                    }
                    <Column ColumnSize="ViewMode ? ColumnSize.Is12 : ColumnSize.Is12.Is9.OnDesktop">
                        <Validation MessageLocalizer="@LH.Localize">
                            <Field>
                                <FieldLabel>@L["CompanyName"]<Span> *</Span></FieldLabel>
                                <TextEdit @bind-Text="Entity.CompanyName" Disabled="ViewMode">
                                    <Feedback>
                                        <ValidationError />
                                    </Feedback>
                                </TextEdit>
                            </Field>
                        </Validation>
                        <Validation MessageLocalizer="@LH.Localize">
                            <Field>
                                <FieldLabel>@L["BusinessRegistrationNumber"]<Span> *</Span></FieldLabel>
                                <TextEdit @bind-Text="Entity.BusinessRegistrationNumber" Disabled="ViewMode">
                                    <Feedback>
                                        <ValidationError />
                                    </Feedback>
                                </TextEdit>
                            </Field>
                        </Validation>
                        <Validation MessageLocalizer="@LH.Localize">
                            <Field>
                                <FieldLabel>@L["CustomerServiceEmail"]<Span> *</Span></FieldLabel>
                                <TextEdit @bind-Text="Entity.CustomerServiceEmail" Disabled="ViewMode">
                                    <Feedback>
                                        <ValidationError />
                                    </Feedback>
                                </TextEdit>
                            </Field>
                        </Validation>
                        <Validation MessageLocalizer="@LH.Localize">
                            <Field>
                                <FieldLabel>@L["CustomerServiceContactPhone"]<Span> *</Span></FieldLabel>
                                <TextEdit @bind-Text="Entity.CustomerServiceContactPhone" Disabled="ViewMode">
                                    <Feedback>
                                        <ValidationError />
                                    </Feedback>
                                </TextEdit>
                            </Field>
                        </Validation>
                    </Column>
                </Row>
                <Divider></Divider>
                <Row>
                    @if (!ViewMode)
                    {
                        <Column ColumnSize="ColumnSize.Is12.Is3.OnDesktop">
                            <h4>@L["ServiceHours"]</h4>
                        </Column>
                    }
                    
                    <Column ColumnSize="ViewMode ? ColumnSize.Is12 : ColumnSize.Is12.Is9.OnDesktop">
                        <Row>
                            <h4>@L["ServiceHours"]</h4>
                            <Column ColumnSize="ColumnSize.Is12.Is6.OnDesktop">
                                <Validation MessageLocalizer="@LH.Localize">
                                    <Field>
                                        <FieldLabel>@L["From"]<Span> *</Span></FieldLabel>
                                        <TimeEdit TValue="DateTime?" @bind-Time="Entity.ServiceHoursFrom" Disabled="ViewMode">
                                            <Feedback>
                                                <ValidationError />
                                            </Feedback>
                                        </TimeEdit>
                                    </Field>
                                </Validation>
                            </Column>
                            <Column ColumnSize="ColumnSize.Is12.Is6.OnDesktop">
                                <Validation MessageLocalizer="@LH.Localize">
                                    <Field>
                                        <FieldLabel>@L["To"]<Span> *</Span></FieldLabel>
                                        <TimeEdit TValue="DateTime?" @bind-Time="Entity.ServiceHoursTo" Disabled="ViewMode">
                                            <Feedback>
                                                <ValidationError />
                                            </Feedback>
                                        </TimeEdit>
                                    </Field>
                                </Validation>
                            </Column>
                        </Row>
                    </Column>
                </Row>
            </CardBody>
        </Card>
    </Validations>

    @if (!ViewMode)
    {
        <Div Class="text-end">
            <PikachuButton Class="pk-btn-transparent" Disabled="IsLoading" Loading="IsCancelling" Clicked="CancelAsync">
                @L["Cancel"]
            </PikachuButton>
            <PikachuButton Class="pk-btn-primary" Disabled="IsCancelling" Loading="IsLoading" Clicked="UpdateAsync">
                @L["Update"]
            </PikachuButton>
        </Div>
    }
</Form>