@page "/Members/Details/{Id:guid}"
@using Kooco.Pikachu.Members
@using Kooco.Pikachu.Permissions
@attribute [Authorize(PikachuPermissions.Members.Default)]
@inherits PikachuComponentBase
@inject IMemberAppService MemberAppService
@inject NavigationManager NavigationManager

<Div Class="rounded-cards">
    <h5 Class="text-dark mb-lg-2 mt-lg-3">
        <Span Class="cursor-pointer" @onclick="NavigateToMember">
            <Icon Name="IconName.ArrowLeft" Class="me-1"></Icon>
            @L["Members"]
        </Span>
    </h5>
    <Card>
        <CardBody>
            <Div Class="text-dark d-flex align-items-center justify-content-between">
                <Div>
                    <h4 class="m-0 mb-1">@Member?.Email</h4>
                    @L["UserId"]:
                    <Span Class="bg-lightgrey rounded-3" Style="padding: 1px 10px;">@Member?.Id</Span>
                </Div>
                <Button Color="Color.Light" Size="Size.Small">
                    @L["Edit"]
                    <Icon Name="IconName.Pen" Class="ms-1"></Icon>
                </Button>
            </Div>
        </CardBody>
    </Card>
    <Tabs SelectedTab="@SelectedTab" SelectedTabChanged="@OnSelectedTabChanged">
        <Items>
            <Tab Name="Details">@L["Details"]</Tab>
        </Items>
        <Content>
            <TabPanel Name="Details">
                <MemberDetailsTab Member="Member" CanDeleteMember="CanDeleteMember" OnDelete="@NavigateToMember" />
            </TabPanel>
        </Content>
    </Tabs>
</Div>
